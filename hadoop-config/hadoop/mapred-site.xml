<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<configuration>
	<property>
		<name>mapreduce.framework.name</name>
		<value>yarn</value>
	</property>
	<property>
		<name>mapreduce.local.dir</name>
		<value>/data1/mapred/data,/data2/mapred/data,/data3/mapred/data,/data4/mapred/data,/data5/mapred/data,/data6/mapred/data</value>
	</property>
	<property>
		<name>mapreduce.system.dir</name>
		<value>/data/mapred/system</value>
		<final>true</final>
	</property>
	<property>
		<name>mapreduce.map.output.compress</name> 
		<value>true</value>
	</property>
	<property>
		<name>mapreduce.map.output.compress.codec</name>
		<value>org.apache.hadoop.io.compress.SnappyCodec</value>
	</property>
	<property>
		<name>mapreduce.task.io.sort.mb</name>
		<value>128</value>
		<description>排序内存使用限制</description>
	</property>
	<property>
 		<name>mapreduce.task.io.sort.factor</name>
 		<value>20</value>
 	</property>
 	<property>
		<name>yarn.app.mapreduce.am.resource.mb</name>
		<value>2048</value>
		<description>MR ApplicationMaster占用的内存量</description>
	</property>
	<property>
		<name>yarn.app.mapreduce.am.command-opts</name>
		<value>-Xmx1792m</value>
	</property>
	<property>
		<name>yarn.app.mapreduce.am.resource.cpu-vcores</name>
		<value>1</value>
		<description>MR ApplicationMaster占用的虚拟CPU个数，此参数对应yarn.nodemanager.resource.cpu-vcores，建议最大为一个物理CPU的数量</description>
	</property>
 	<property>
 		<name>yarn.app.mapreduce.am.job.task.listener.thread-count</name>
 		<value>60</value>
 	</property>
	<property>
		<name>mapreduce.map.speculative</name>
		<value>true</value>
		<description>是否对Map Task启用推测执行机制</description>
	</property>
	<property>
		<name>mapreduce.reduce.speculative</name>
		<value>true</value>
		<description>是否对Reduce Task启用推测执行机制</description>
	</property>
	<property>
		<name>mapreduce.map.memory.mb</name>
		<value>2048</value>
		<description>每个Map Task需要的内存量</description>
	</property>
	<property>
		<name>mapreduce.reduce.memory.mb</name>
		<value>2048</value>
		<description>每个Reduce Task需要的内存量</description>
	</property>
	<property>
 		<name>mapreduce.reduce.java.opts</name>
 		<value>-Xmx1792m</value>
 		<description>reduce任务内存</description>
 	</property>
 	<property>
 		<name>mapreduce.map.java.opts</name>
 		<value>-Xmx1792m</value>
 		<description>map任务内存</description>
 	</property>
	<property>
		<name>mapreduce.map.cpu.vcores</name>
		<value>1</value>
		<description>每个map Task需要的虚拟cpu数</description>
	</property>
	<property>
		<name>mapreduce.reduce.cpu.vcores</name>
		<value>1</value>
		<description>每个Reduce Task需要的虚拟cpu数</description>
	</property>	
	<property>
		<name>mapreduce.reduce.shuffle.parallelcopies</name>
		<value>24</value>
		<description>每个reduce并行下载map结果的最大线程数</description>
	</property>
	<property>
		<name>mapred.reduce.copy.backoff</name>
		<value>600</value>
		<description>reduce下载线程最大等待时间（insec）</description>
	</property>
	<property>
		<name>mapreduce.tasktracker.http.threads</name>
		<value>40</value>
		<description>map和reduce是通过http进行数据传输的，这个是设置传输的并行线程数</description>
	</property>
	<property>
		<name>mapreduce.job.jvm.numtasks</name>
		<value>-1</value>
	</property>
	<property>
		<name>mapreduce.jobtracker.tasktracker.maxblacklists</name>
		<value>10</value>
	</property>
	<property>
		<name>mapreduce.jobtracker.blacklist.average.threshold</name>
		<value>0.8</value>
	</property>
	<property>
		<name>mapreduce.job.counters.limit</name>
		<value>20000</value>
	</property>
	<property>
		<name>mapreduce.jobhistory.address</name>
		<value>nn1.hadoop:10020</value>
		<description>MapReduce JobHistory Server地址</description>
	</property>
	<property>
		<name>mapreduce.jobhistory.webapp.address</name>
		<value>nn1.hadoop:19888</value>
		<description>MapReduce JobHistory Server Web UI地址</description>
	</property>
	<property>
		<name>mapreduce.jobhistory.intermediate-done-dir</name>
		<value>/data/mapred/tmp</value>
		<description>MapReduce作业产生的日志存放位置</description>
	</property>
	<property>
		<name>mapreduce.jobhistory.move.thread-count</name>
		<value>6</value>
	</property>
	<property>
		<name>mapreduce.jobhistory.move.interval-ms</name>
		<value>60000</value>
	</property>

	<property>
		<name>mapreduce.jobhistory.done-dir</name>
		<value>/data/mapred/done</value>
		<description>MR JobHistory Server管理的日志的存放位置</description>
	</property>
 	<property>
 		<name>mapreduce.job.userlog.retain.hours</name>
 		<value>48</value>
 	</property>
	<property>
		<name>mapreduce.jobhistory.max-age-ms</name>
		<value>259200000</value>
	</property>
	<property>
		<name>mapreduce.jobhistory.cleaner.interval-ms</name>
		<value>3600000</value>
	</property>
	<property>
		<name>mapreduce.job.ubertask.enable</name>
		<value>true</value>
	</property>
	<property>
		<name>mapreduce.application.classpath</name>
		<value>/usr/local/hadoop/etc/hadoop,/usr/local/hadoop/share/hadoop/common/*,/usr/local/hadoop/share/hadoop/common/lib/*,/usr/local/hadoop/share/hadoop/hdfs/*,/usr/local/hadoop/share/hadoop/hdfs/lib/*,/usr/local/hadoop/share/hadoop/mapreduce/*,/usr/local/hadoop/share/hadoop/mapreduce/lib/*,/usr/local/hadoop/share/hadoop/yarn/*,/usr/local/hadoop/share/hadoop/yarn/lib/*,/usr/local/hbase/lib/*,/usr/local/hadoop/lib/*</value>
	</property>
	<property>
		<name>mapreduce.job.queuename</name>
		<value>hainiu</value>
		<!--<value>${hadoop.job.queuename}</value>-->
	</property>
</configuration>
